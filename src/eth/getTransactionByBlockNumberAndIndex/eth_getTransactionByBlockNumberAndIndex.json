{
  "name": "eth_getTransactionByBlockNumberAndIndex",
  "summary": "Returns information about a transaction by block number and transaction index position.",
  "params": [
    {
      "name": "Block",
      "required": true,
      "schema": {
        "title": "Block number or tag",
        "oneOf": [
          {
            "title": "Block number",
            "type": "string",
            "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
          },
          {
            "title": "Block tag",
            "type": "string",
            "enum": [
              "earliest",
              "finalized",
              "safe",
              "latest",
              "pending"
            ],
            "description": "`earliest`: The lowest numbered block the client has available; `finalized`: The most recent crypto-economically secure block, cannot be re-orged outside of manual intervention driven by community coordination; `safe`: The most recent block that is safe from re-orgs under honest majority and certain synchronicity assumptions; `latest`: The most recent block in the canonical chain observed by the client, this block may be re-orged out of the canonical chain even under healthy/normal conditions; `pending`: A sample next block built by the client on top of `latest` and containing the set of transactions usually taken from local mempool. Before the merge transition is finalized, any call querying for `finalized` or `safe` block MUST be responded to with `-39001: Unknown block` error"
          }
        ]
      }
    },
    {
      "name": "Transaction index",
      "required": true,
      "schema": {
        "title": "hex encoded unsigned integer",
        "type": "string",
        "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
      }
    }
  ],
  "result": {
    "name": "Transaction information",
    "schema": {
      "oneOf": [
        {
          "title": "Not Found (null)",
          "type": "null"
        },
        {
          "type": "object",
          "title": "Transaction information",
          "required": [
            "blockHash",
            "blockNumber",
            "from",
            "hash",
            "transactionIndex"
          ],
          "oneOf": [
            {
              "title": "Signed 7702 Transaction",
              "type": "object",
              "required": [
                "accessList",
                "authorizationList",
                "chainId",
                "gas",
                "input",
                "maxFeePerGas",
                "maxPriorityFeePerGas",
                "nonce",
                "r",
                "s",
                "to",
                "type",
                "value",
                "yParity"
              ],
              "properties": {
                "type": {
                  "title": "type",
                  "type": "string",
                  "pattern": "^0x4$"
                },
                "nonce": {
                  "title": "nonce",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "to": {
                  "title": "to address",
                  "type": "string",
                  "pattern": "^0x[0-9a-fA-F]{40}$"
                },
                "gas": {
                  "title": "gas limit",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "value": {
                  "title": "value",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "input": {
                  "title": "input data",
                  "type": "string",
                  "pattern": "^0x[0-9a-f]*$"
                },
                "maxPriorityFeePerGas": {
                  "title": "max priority fee per gas",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "Maximum fee per gas the sender is willing to pay to miners in wei"
                },
                "maxFeePerGas": {
                  "title": "max fee per gas",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The maximum total fee per gas the sender is willing to pay (includes the network / base fee and miner / priority fee) in wei"
                },
                "gasPrice": {
                  "title": "gas price",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The effective gas price paid by the sender in wei. For transactions not yet included in a block, this value should be set equal to the max fee per gas. This field is DEPRECATED, please transition to using effectiveGasPrice in the receipt object going forward."
                },
                "accessList": {
                  "title": "accessList",
                  "type": "array",
                  "description": "EIP-2930 access lists",
                  "items": {
                    "title": "Access list entry",
                    "type": "object",
                    "required": [
                      "address",
                      "storageKeys"
                    ],
                    "additionalProperties": false,
                    "properties": {
                      "address": {
                        "title": "hex encoded address",
                        "type": "string",
                        "pattern": "^0x[0-9a-fA-F]{40}$"
                      },
                      "storageKeys": {
                        "type": "array",
                        "items": {
                          "title": "32 byte hex value",
                          "type": "string",
                          "pattern": "^0x[0-9a-f]{64}$"
                        }
                      }
                    }
                  }
                },
                "chainId": {
                  "title": "chainId",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "Chain ID that this transaction is valid on"
                },
                "authorizationList": {
                  "title": "authorizationList",
                  "description": "List of authorizations for the transaction",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "chainId",
                      "nonce",
                      "address",
                      "yParity",
                      "r",
                      "s"
                    ],
                    "properties": {
                      "chainId": {
                        "title": "chainId",
                        "type": "string",
                        "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                        "description": "Chain ID on which this transaction is valid"
                      },
                      "nonce": {
                        "title": "nonce",
                        "type": "string",
                        "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                      },
                      "address": {
                        "title": "hex encoded address",
                        "type": "string",
                        "pattern": "^0x[0-9a-fA-F]{40}$"
                      },
                      "yParity": {
                        "title": "yParity",
                        "type": "string",
                        "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                        "description": "The parity (0 for even, 1 for odd) of the y-value of the secp256k1 signature"
                      },
                      "r": {
                        "title": "r",
                        "type": "string",
                        "pattern": "^0x(0|[1-9a-f][0-9a-f]{0,63})$"
                      },
                      "s": {
                        "title": "s",
                        "type": "string",
                        "pattern": "^0x(0|[1-9a-f][0-9a-f]{0,63})$"
                      }
                    }
                  }
                },
                "yParity": {
                  "title": "yParity",
                  "type": "string",
                  "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                  "description": "The parity (0 for even, 1 for odd) of the y-value of the secp256k1 signature."
                },
                "v": {
                  "title": "v",
                  "type": "string",
                  "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                  "description": "For backwards compatibility, `v` is optionally provided as an alternative to `yParity`. This field is DEPRECATED and all use of it should migrate to `yParity`."
                },
                "r": {
                  "title": "r",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "s": {
                  "title": "s",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                }
              }
            },
            {
              "title": "Signed 4844 Transaction",
              "type": "object",
              "required": [
                "accessList",
                "blobVersionedHashes",
                "chainId",
                "gas",
                "input",
                "maxFeePerBlobGas",
                "maxFeePerGas",
                "maxPriorityFeePerGas",
                "nonce",
                "r",
                "s",
                "to",
                "type",
                "value",
                "yParity"
              ],
              "properties": {
                "type": {
                  "title": "type",
                  "type": "string",
                  "pattern": "^0x3$"
                },
                "nonce": {
                  "title": "nonce",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "to": {
                  "title": "to address",
                  "type": "string",
                  "pattern": "^0x[0-9a-fA-F]{40}$"
                },
                "gas": {
                  "title": "gas limit",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "value": {
                  "title": "value",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "input": {
                  "title": "input data",
                  "type": "string",
                  "pattern": "^0x[0-9a-f]*$"
                },
                "maxPriorityFeePerGas": {
                  "title": "max priority fee per gas",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "Maximum fee per gas the sender is willing to pay to miners in wei"
                },
                "maxFeePerGas": {
                  "title": "max fee per gas",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The maximum total fee per gas the sender is willing to pay (includes the network / base fee and miner / priority fee) in wei"
                },
                "maxFeePerBlobGas": {
                  "title": "max fee per blob gas",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The maximum total fee per gas the sender is willing to pay for blob gas in wei"
                },
                "gasPrice": {
                  "title": "gas price",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The effective gas price paid by the sender in wei. For transactions not yet included in a block, this value should be set equal to the max fee per gas. This field is DEPRECATED, please transition to using effectiveGasPrice in the receipt object going forward."
                },
                "accessList": {
                  "title": "accessList",
                  "type": "array",
                  "description": "EIP-2930 access list",
                  "items": {
                    "title": "Access list entry",
                    "type": "object",
                    "required": [
                      "address",
                      "storageKeys"
                    ],
                    "additionalProperties": false,
                    "properties": {
                      "address": {
                        "title": "hex encoded address",
                        "type": "string",
                        "pattern": "^0x[0-9a-fA-F]{40}$"
                      },
                      "storageKeys": {
                        "type": "array",
                        "items": {
                          "title": "32 byte hex value",
                          "type": "string",
                          "pattern": "^0x[0-9a-f]{64}$"
                        }
                      }
                    }
                  }
                },
                "blobVersionedHashes": {
                  "title": "blobVersionedHashes",
                  "description": "List of versioned blob hashes associated with the transaction's EIP-4844 data blobs",
                  "type": "array",
                  "items": {
                    "title": "32 byte hex value",
                    "type": "string",
                    "pattern": "^0x[0-9a-f]{64}$"
                  }
                },
                "chainId": {
                  "title": "chainId",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "Chain ID that this transaction is valid on"
                },
                "yParity": {
                  "title": "yParity",
                  "type": "string",
                  "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                  "description": "The parity (0 for even, 1 for odd) of the y-value of the secp256k1 signature."
                },
                "v": {
                  "title": "v",
                  "type": "string",
                  "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                  "description": "For backwards compatibility, `v` is optionally provided as an alternative to `yParity`. This field is DEPRECATED and all use of it should migrate to `yParity`."
                },
                "r": {
                  "title": "r",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "s": {
                  "title": "s",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                }
              }
            },
            {
              "title": "Signed 1559 Transaction",
              "type": "object",
              "required": [
                "accessList",
                "chainId",
                "gas",
                "gasPrice",
                "input",
                "maxFeePerGas",
                "maxPriorityFeePerGas",
                "nonce",
                "r",
                "s",
                "type",
                "value",
                "yParity"
              ],
              "properties": {
                "type": {
                  "title": "type",
                  "type": "string",
                  "pattern": "^0x2$"
                },
                "nonce": {
                  "title": "nonce",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "to": {
                  "title": "to address",
                  "oneOf": [
                    {
                      "title": "Contract Creation (null)",
                      "type": "null"
                    },
                    {
                      "title": "Address",
                      "type": "string",
                      "pattern": "^0x[0-9a-fA-F]{40}$"
                    }
                  ]
                },
                "gas": {
                  "title": "gas limit",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "value": {
                  "title": "value",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "input": {
                  "title": "input data",
                  "type": "string",
                  "pattern": "^0x[0-9a-f]*$"
                },
                "maxPriorityFeePerGas": {
                  "title": "max priority fee per gas",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "Maximum fee per gas the sender is willing to pay to miners in wei"
                },
                "maxFeePerGas": {
                  "title": "max fee per gas",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The maximum total fee per gas the sender is willing to pay (includes the network / base fee and miner / priority fee) in wei"
                },
                "gasPrice": {
                  "title": "gas price",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The effective gas price paid by the sender in wei. For transactions not yet included in a block, this value should be set equal to the max fee per gas. This field is DEPRECATED, please transition to using effectiveGasPrice in the receipt object going forward."
                },
                "accessList": {
                  "title": "accessList",
                  "type": "array",
                  "description": "EIP-2930 access list",
                  "items": {
                    "title": "Access list entry",
                    "type": "object",
                    "required": [
                      "address",
                      "storageKeys"
                    ],
                    "additionalProperties": false,
                    "properties": {
                      "address": {
                        "title": "hex encoded address",
                        "type": "string",
                        "pattern": "^0x[0-9a-fA-F]{40}$"
                      },
                      "storageKeys": {
                        "type": "array",
                        "items": {
                          "title": "32 byte hex value",
                          "type": "string",
                          "pattern": "^0x[0-9a-f]{64}$"
                        }
                      }
                    }
                  }
                },
                "chainId": {
                  "title": "chainId",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "Chain ID that this transaction is valid on."
                },
                "yParity": {
                  "title": "yParity",
                  "type": "string",
                  "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                  "description": "The parity (0 for even, 1 for odd) of the y-value of the secp256k1 signature."
                },
                "v": {
                  "title": "v",
                  "type": "string",
                  "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                  "description": "For backwards compatibility, `v` is optionally provided as an alternative to `yParity`. This field is DEPRECATED and all use of it should migrate to `yParity`."
                },
                "r": {
                  "title": "r",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "s": {
                  "title": "s",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                }
              }
            },
            {
              "title": "Signed 2930 Transaction",
              "type": "object",
              "required": [
                "accessList",
                "chainId",
                "gas",
                "gasPrice",
                "input",
                "nonce",
                "r",
                "s",
                "type",
                "value",
                "yParity"
              ],
              "properties": {
                "type": {
                  "title": "type",
                  "type": "string",
                  "pattern": "^0x1$"
                },
                "nonce": {
                  "title": "nonce",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "to": {
                  "title": "to address",
                  "oneOf": [
                    {
                      "title": "Contract Creation (null)",
                      "type": "null"
                    },
                    {
                      "title": "Address",
                      "type": "string",
                      "pattern": "^0x[0-9a-fA-F]{40}$"
                    }
                  ]
                },
                "gas": {
                  "title": "gas limit",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "value": {
                  "title": "value",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "input": {
                  "title": "input data",
                  "type": "string",
                  "pattern": "^0x[0-9a-f]*$"
                },
                "gasPrice": {
                  "title": "gas price",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The gas price willing to be paid by the sender in wei"
                },
                "accessList": {
                  "title": "accessList",
                  "type": "array",
                  "description": "EIP-2930 access list",
                  "items": {
                    "title": "Access list entry",
                    "type": "object",
                    "required": [
                      "address",
                      "storageKeys"
                    ],
                    "additionalProperties": false,
                    "properties": {
                      "address": {
                        "title": "hex encoded address",
                        "type": "string",
                        "pattern": "^0x[0-9a-fA-F]{40}$"
                      },
                      "storageKeys": {
                        "type": "array",
                        "items": {
                          "title": "32 byte hex value",
                          "type": "string",
                          "pattern": "^0x[0-9a-f]{64}$"
                        }
                      }
                    }
                  }
                },
                "chainId": {
                  "title": "chainId",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "Chain ID that this transaction is valid on."
                },
                "yParity": {
                  "title": "yParity",
                  "type": "string",
                  "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                  "description": "The parity (0 for even, 1 for odd) of the y-value of the secp256k1 signature."
                },
                "v": {
                  "title": "v",
                  "type": "string",
                  "pattern": "^0x([0-9a-fA-F]?){1,2}$",
                  "description": "For backwards compatibility, `v` is optionally provided as an alternative to `yParity`. This field is DEPRECATED and all use of it should migrate to `yParity`."
                },
                "r": {
                  "title": "r",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "s": {
                  "title": "s",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                }
              }
            },
            {
              "title": "Signed Legacy Transaction",
              "type": "object",
              "required": [
                "gas",
                "gasPrice",
                "input",
                "nonce",
                "r",
                "s",
                "type",
                "v",
                "value"
              ],
              "properties": {
                "type": {
                  "title": "type",
                  "type": "string",
                  "pattern": "^0x0$"
                },
                "nonce": {
                  "title": "nonce",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "to": {
                  "title": "to address",
                  "oneOf": [
                    {
                      "title": "Contract Creation (null)",
                      "type": "null"
                    },
                    {
                      "title": "Address",
                      "type": "string",
                      "pattern": "^0x[0-9a-fA-F]{40}$"
                    }
                  ]
                },
                "gas": {
                  "title": "gas limit",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "value": {
                  "title": "value",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "input": {
                  "title": "input data",
                  "type": "string",
                  "pattern": "^0x[0-9a-f]*$"
                },
                "gasPrice": {
                  "title": "gas price",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "The gas price willing to be paid by the sender in wei"
                },
                "chainId": {
                  "title": "chainId",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$",
                  "description": "Chain ID that this transaction is valid on."
                },
                "v": {
                  "title": "v",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "r": {
                  "title": "r",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                },
                "s": {
                  "title": "s",
                  "type": "string",
                  "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
                }
              }
            }
          ],
          "properties": {
            "blockHash": {
              "title": "block hash",
              "type": "string",
              "pattern": "^0x[0-9a-f]{64}$"
            },
            "blockNumber": {
              "title": "block number",
              "type": "string",
              "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
            },
            "from": {
              "title": "from address",
              "type": "string",
              "pattern": "^0x[0-9a-fA-F]{40}$"
            },
            "hash": {
              "title": "transaction hash",
              "type": "string",
              "pattern": "^0x[0-9a-f]{64}$"
            },
            "transactionIndex": {
              "title": "transaction index",
              "type": "string",
              "pattern": "^0x(0|[1-9a-f][0-9a-f]*)$"
            }
          }
        }
      ]
    }
  },
  "errors": [
    {
      "code": 4444,
      "message": "Pruned history unavailable"
    }
  ],
  "examples": [
    {
      "name": "eth_getTransactionByBlockNumberAndIndex example",
      "params": [
        {
          "name": "Block",
          "value": "0x1442e"
        },
        {
          "name": "Transaction index",
          "value": "0x2"
        }
      ],
      "result": {
        "name": "Transaction information",
        "value": {
          "blockHash": "0x510efccf44a192e6e34bcb439a1947e24b86244280762cbb006858c237093fda",
          "blockNumber": "0x422",
          "chainId": "0x7e2",
          "from": "0xfe3b557e8fb62b89f4916b721be55ceb828dbd73",
          "gas": "0x5208",
          "gasPrice": "0x3b9aca00",
          "hash": "0xa52be92809541220ee0aaaede6047d9a6c5d0cd96a517c854d944ee70a0ebb44",
          "input": "0x",
          "nonce": "0x1",
          "to": "0x627306090abab3a6e1400e9345bc60c78a8bef57",
          "transactionIndex": "0x0",
          "value": "0x4e1003b28d9280000",
          "v": "0xfe7",
          "r": "0x84caf09aefbd5e539295acc67217563438a4efb224879b6855f56857fa2037d3",
          "s": "0x5e863be3829812c81439f0ae9d8ecb832b531d651fb234c848d1bf45e62be8b9"
        }
      }
    }
  ]
}